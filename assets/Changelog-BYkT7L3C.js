import{c as l,i as o,a as e,l as C,t as c,y as b,j as $,F as k,g as x,a9 as w,r as I,p,o as D,b as j,w as F,aa as O,e as L}from"./index-DyArWEBF.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"changelog-card"},R={class:"changelog-header"},W={class:"changelog-meta"},z={class:"release-date"},E={class:"changelog-content"},J={key:0,class:"changelog-title"},U={key:1,class:"change-section"},q={class:"change-list"},A={key:2,class:"change-section"},G={class:"change-list"},H={key:3,class:"change-section"},K={class:"change-list"},P={key:4,class:"change-section breaking"},Q={class:"change-list"},X={__name:"ChangelogCard",props:{entry:{type:Object,required:!0,validator:t=>t.version&&t.date&&t.type}},setup(t){const h=d=>{const r=new Date(d),i=new Date-r,m=Math.floor(i/(1e3*60*60*24));return m===0?"ä»Šå¤©":m===1?"æ˜¨å¤©":m<7?`${m}å¤©å‰`:m<30?`${Math.floor(m/7)}å‘¨å‰`:r.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})},y=d=>({major:"ä¸»è¦ç‰ˆæœ¬",minor:"æ¬¡è¦ç‰ˆæœ¬",patch:"è¡¥ä¸ç‰ˆæœ¬",hotfix:"çƒ­ä¿®å¤"})[d]||d;return(d,r)=>(o(),l("div",M,[e("div",R,[e("div",{class:C(["version-badge",`badge-${t.entry.type}`])},c(t.entry.version),3),e("div",W,[e("span",z,c(h(t.entry.date)),1),e("span",{class:C(["type-tag",`tag-${t.entry.type}`])},c(y(t.entry.type)),3)])]),e("div",E,[t.entry.title?(o(),l("div",J,c(t.entry.title),1)):b("",!0),t.entry.features&&t.entry.features.length?(o(),l("div",U,[r[0]||(r[0]=e("h4",{class:"section-title"},[e("i",{class:"icon-sparkles"},"âœ¨"),$(" æ–°åŠŸèƒ½ ")],-1)),e("ul",q,[(o(!0),l(k,null,x(t.entry.features,(u,i)=>(o(),l("li",{key:`feature-${i}`},c(u),1))),128))])])):b("",!0),t.entry.improvements&&t.entry.improvements.length?(o(),l("div",A,[r[1]||(r[1]=e("h4",{class:"section-title"},[e("i",{class:"icon-arrow-up"},"â¬†ï¸"),$(" æ”¹è¿›ä¼˜åŒ– ")],-1)),e("ul",G,[(o(!0),l(k,null,x(t.entry.improvements,(u,i)=>(o(),l("li",{key:`improvement-${i}`},c(u),1))),128))])])):b("",!0),t.entry.fixes&&t.entry.fixes.length?(o(),l("div",H,[r[2]||(r[2]=e("h4",{class:"section-title"},[e("i",{class:"icon-bug"},"ğŸ›"),$(" ä¿®å¤é—®é¢˜ ")],-1)),e("ul",K,[(o(!0),l(k,null,x(t.entry.fixes,(u,i)=>(o(),l("li",{key:`fix-${i}`},c(u),1))),128))])])):b("",!0),t.entry.breaking&&t.entry.breaking.length?(o(),l("div",P,[r[3]||(r[3]=e("h4",{class:"section-title"},[e("i",{class:"icon-warning"},"âš ï¸"),$(" é‡å¤§å˜æ›´ ")],-1)),e("ul",Q,[(o(!0),l(k,null,x(t.entry.breaking,(u,i)=>(o(),l("li",{key:`breaking-${i}`},c(u),1))),128))])])):b("",!0)])]))}},Y=V(X,[["__scopeId","data-v-d6baaa0f"]]),Z=w("changelog",()=>{const t=I([{version:"v1.3.0",date:"2025-01-15",type:"minor",title:"ä¿±ä¹éƒ¨æˆ˜ç»©ä¸èº«ä»½ç‰ŒåŠŸèƒ½ä¸Šçº¿",features:["æ–°å¢ä¿±ä¹éƒ¨ç›åœºæˆ˜ç»©æŸ¥è¯¢åŠŸèƒ½ï¼Œæ”¯æŒå†…è”å’Œå¼¹çª—ä¸¤ç§å±•ç¤ºæ¨¡å¼","æ–°å¢èº«ä»½ç‰Œç»„ä»¶ï¼Œå±•ç¤ºç©å®¶ä¸ªäººä¿¡æ¯å’Œæ¸¸æˆæ•°æ®","æ–°å¢æ¸¸æˆçŠ¶æ€é¡µé¢çš„æ—¥å¸¸/ä¿±ä¹éƒ¨/æ´»åŠ¨åˆ†åŒºåˆ‡æ¢","æ–°å¢æˆ˜ç»©æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼Œæ”¯æŒExcelæ ¼å¼","æ–°å¢æœˆåº¦ä»»åŠ¡è¿›åº¦è·Ÿè¸ªåŠŸèƒ½"],improvements:["ä¼˜åŒ–ä¿±ä¹éƒ¨ä¿¡æ¯æ•°æ®èšåˆé€»è¾‘ï¼Œå…¼å®¹å¤šç‰ˆæœ¬æœåŠ¡ç«¯","ä¼˜åŒ–å“åº”å¼å¸ƒå±€ä»¥é€‚é…æ–°çš„ç•Œé¢ç»“æ„","æ”¹è¿›TokenæŒä¹…åŒ–å­˜å‚¨ï¼Œä½¿ç”¨IndexedDBæ›¿ä»£localStorage","ä¼˜åŒ–æ¸¸æˆçŠ¶æ€é¡µé¢çš„æ•°æ®åŠ è½½æ€§èƒ½"],fixes:["ä¿®å¤ä¿±ä¹éƒ¨æˆ˜ç»©æ•°æ®åŠ è½½å¤±è´¥çš„é—®é¢˜","ä¿®å¤èº«ä»½ç‰Œåœ¨æŸäº›æƒ…å†µä¸‹æ˜¾ç¤ºå¼‚å¸¸çš„bug","ä¿®å¤æœˆåº¦ä»»åŠ¡è¿›åº¦è®¡ç®—é”™è¯¯çš„é—®é¢˜"]},{version:"v1.2.1",date:"2025-01-08",type:"patch",title:"WebSocketè¿æ¥ä¼˜åŒ–",improvements:["æ”¹è¿›WebSocketé‡è¿æœºåˆ¶ï¼Œæé«˜è¿æ¥ç¨³å®šæ€§","ä¼˜åŒ–æ¶ˆæ¯é˜Ÿåˆ—ç®¡ç†ï¼Œé˜²æ­¢æ¶ˆæ¯ä¸¢å¤±","å¢å¼ºå¿ƒè·³æ£€æµ‹æœºåˆ¶ï¼ŒåŠæ—¶å‘ç°è¿æ¥å¼‚å¸¸"],fixes:["ä¿®å¤WebSocketè¿æ¥åœ¨ç½‘ç»œæ³¢åŠ¨æ—¶æ–­å¼€çš„é—®é¢˜","ä¿®å¤æ¶ˆæ¯å‘é€å¤±è´¥åæœªæ­£ç¡®é‡è¯•çš„bug","ä¿®å¤å¿ƒè·³è¶…æ—¶åæœªè§¦å‘é‡è¿çš„é—®é¢˜"]},{version:"v1.2.0",date:"2025-01-01",type:"minor",title:"Tokenç®¡ç†ç³»ç»Ÿé‡æ„",features:["å…¨æ–°çš„Tokenç®¡ç†ç•Œé¢ï¼Œæ”¯æŒå¤šè´¦å·ç®¡ç†","æ–°å¢Tokenå¯¼å…¥åŠŸèƒ½ï¼Œæ”¯æŒBase64æ ¼å¼è§£æ","æ–°å¢TokençŠ¶æ€ç›‘æ§ï¼Œå®æ—¶æ˜¾ç¤ºè¿æ¥çŠ¶æ€","æ–°å¢Tokenåˆ†ç»„åŠŸèƒ½ï¼Œæ–¹ä¾¿ç®¡ç†å¤šä¸ªè´¦å·"],improvements:["ä¼˜åŒ–Tokenè§£æç®—æ³•ï¼Œæ”¯æŒæ›´å¤šæ ¼å¼","æ”¹è¿›Tokenå­˜å‚¨æœºåˆ¶ï¼Œä½¿ç”¨åŠ å¯†å­˜å‚¨","ä¼˜åŒ–Tokenåˆ‡æ¢é€Ÿåº¦ï¼Œæå‡ç”¨æˆ·ä½“éªŒ","æ”¹è¿›è·¯ç”±å®ˆå«é€»è¾‘ï¼ŒåŸºäºTokençŠ¶æ€è¿›è¡Œè®¿é—®æ§åˆ¶"],breaking:["æ—§çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿå·²åºŸå¼ƒï¼Œå…¨é¢è¿ç§»åˆ°Tokenç®¡ç†ç³»ç»Ÿ","éœ€è¦é‡æ–°å¯¼å…¥æ‰€æœ‰æ¸¸æˆè´¦å·Token"]},{version:"v1.1.5",date:"2024-12-20",type:"hotfix",title:"ç´§æ€¥ä¿®å¤BONåè®®è§£æé—®é¢˜",fixes:["ä¿®å¤BONåè®®è§£æä¸­çš„ä¸¥é‡bugï¼Œå¯¼è‡´éƒ¨åˆ†æ¶ˆæ¯æ— æ³•æ­£ç¡®è§£æ","ä¿®å¤åŠ å¯†æ¶ˆæ¯è§£å¯†å¤±è´¥çš„é—®é¢˜","ä¿®å¤æ¶ˆæ¯åºåˆ—å·é”™è¯¯å¯¼è‡´çš„é€šä¿¡å¼‚å¸¸"]},{version:"v1.1.0",date:"2024-12-15",type:"minor",title:"æ—¥å¸¸ä»»åŠ¡ç³»ç»Ÿä¸Šçº¿",features:["æ–°å¢æ—¥å¸¸ä»»åŠ¡ç®¡ç†é¡µé¢","æ–°å¢ä»»åŠ¡è¿›åº¦è·Ÿè¸ªåŠŸèƒ½","æ–°å¢ä»»åŠ¡è‡ªåŠ¨å®ŒæˆåŠŸèƒ½","æ–°å¢ä»»åŠ¡å¥–åŠ±é¢†å–æé†’"],improvements:["ä¼˜åŒ–ä»»åŠ¡æ•°æ®åŠ è½½é€Ÿåº¦","æ”¹è¿›ä»»åŠ¡çŠ¶æ€æ›´æ–°æœºåˆ¶","ä¼˜åŒ–ä»»åŠ¡åˆ—è¡¨æ¸²æŸ“æ€§èƒ½"]},{version:"v1.0.0",date:"2024-12-01",type:"major",title:"ç³»ç»Ÿæ­£å¼å‘å¸ƒ",features:["åŸºç¡€Tokenç®¡ç†åŠŸèƒ½","WebSocketè¿æ¥ç®¡ç†","BONåè®®å®ç°","æ¸¸æˆè§’è‰²ç®¡ç†","åŸºç¡€UIæ¡†æ¶","å“åº”å¼è®¾è®¡æ”¯æŒ"]}]),h=p(()=>t.value.length>0?t.value[0]:null),y=p(()=>(n=3)=>t.value.slice(0,n)),d=p(()=>n=>t.value.filter(v=>v.type===n)),r=p(()=>({totalVersions:t.value.length,majorVersions:t.value.filter(n=>n.type==="major").length,minorVersions:t.value.filter(n=>n.type==="minor").length,patchVersions:t.value.filter(n=>n.type==="patch").length,hotfixVersions:t.value.filter(n=>n.type==="hotfix").length})),u=n=>{t.value.unshift(n),g()},i=(n,v)=>{const f=t.value.findIndex(_=>_.version===n);f!==-1&&(t.value[f]={...t.value[f],...v},g())},m=n=>{const v=t.value.findIndex(f=>f.version===n);v!==-1&&(t.value.splice(v,1),g())},g=()=>{try{localStorage.setItem("changelogs",JSON.stringify(t.value))}catch(n){console.error("ä¿å­˜æ›´æ–°æ—¥å¿—åˆ°æœ¬åœ°å­˜å‚¨å¤±è´¥:",n)}},s=()=>{try{const n=localStorage.getItem("changelogs");n&&(t.value=JSON.parse(n))}catch(n){console.error("ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ›´æ–°æ—¥å¿—å¤±è´¥:",n)}},a=(n,v)=>{const f=t.value.findIndex(S=>S.version===n),_=t.value.findIndex(S=>S.version===v);return f===-1||_===-1?[]:t.value.slice(Math.min(f,_),Math.max(f,_)+1)},T=n=>h.value?h.value.version!==n:!1,N=()=>{try{const n=localStorage.getItem("last_read_changelog_version");if(!n)return t.value;const v=t.value.findIndex(f=>f.version===n);return v===-1?t.value:t.value.slice(0,v)}catch(n){return console.error("è·å–æœªè¯»æ›´æ–°æ—¥å¿—å¤±è´¥:",n),[]}},B=n=>{try{localStorage.setItem("last_read_changelog_version",n)}catch(v){console.error("æ ‡è®°æ›´æ–°æ—¥å¿—ä¸ºå·²è¯»å¤±è´¥:",v)}};return s(),{changelogs:t,latestVersion:h,getRecentChangelogs:y,getChangelogsByType:d,statistics:r,addChangelog:u,updateChangelog:i,deleteChangelog:m,saveToLocalStorage:g,loadFromLocalStorage:s,getVersionDiff:a,hasNewVersion:T,getUnreadChangelogs:N,markAsRead:B}}),ee={class:"changelog-page"},te={class:"changelog-container"},se={class:"page-header"},ne={class:"filter-section"},ae={class:"filter-group"},oe={class:"filter-buttons"},le=["onClick"],re={class:"stats-grid"},ie={class:"stat-card"},ce={class:"stat-content"},de={class:"stat-value"},ue={class:"stat-card"},ge={class:"stat-content"},ve={class:"stat-value"},he={class:"stat-card"},fe={class:"stat-content"},me={class:"stat-value"},ye={class:"stat-card"},be={class:"stat-content"},ke={class:"stat-value"},xe={class:"changelog-list"},pe={key:0,class:"empty-state"},_e={class:"subscribe-section"},$e={class:"subscribe-card"},Se={__name:"Changelog",setup(t){const h=Z(),y=I("all"),d=I(!1),r=[{value:"all",label:"å…¨éƒ¨"},{value:"major",label:"ä¸»è¦ç‰ˆæœ¬"},{value:"minor",label:"æ¬¡è¦ç‰ˆæœ¬"},{value:"patch",label:"è¡¥ä¸"},{value:"hotfix",label:"çƒ­ä¿®å¤"}],u=p(()=>y.value==="all"?h.changelogs:h.changelogs.filter(g=>g.type===y.value)),i=p(()=>({totalVersions:h.changelogs.length,totalFeatures:h.changelogs.reduce((g,s)=>{var a;return g+(((a=s.features)==null?void 0:a.length)||0)},0),totalFixes:h.changelogs.reduce((g,s)=>{var a;return g+(((a=s.fixes)==null?void 0:a.length)||0)},0),totalImprovements:h.changelogs.reduce((g,s)=>{var a;return g+(((a=s.improvements)==null?void 0:a.length)||0)},0)})),m=()=>{d.value=!d.value,d.value?(localStorage.setItem("changelog_subscribed","true"),alert("å·²æˆåŠŸè®¢é˜…æ›´æ–°é€šçŸ¥ï¼")):(localStorage.removeItem("changelog_subscribed"),alert("å·²å–æ¶ˆè®¢é˜…"))};return D(()=>{d.value=localStorage.getItem("changelog_subscribed")==="true"}),(g,s)=>(o(),l("div",ee,[e("div",te,[e("div",se,[s[2]||(s[2]=e("div",{class:"header-content"},[e("h1",{class:"page-title"},[e("i",{class:"icon-history"},"ğŸ“œ"),$(" æ›´æ–°æ—¥å¿— ")]),e("p",{class:"page-description"}," æŸ¥çœ‹ç³»ç»Ÿçš„æœ€æ–°æ›´æ–°å’Œæ”¹è¿›å†…å®¹ ")],-1)),e("div",ne,[e("div",ae,[s[1]||(s[1]=e("label",null,"ç‰ˆæœ¬ç±»å‹ï¼š",-1)),e("div",oe,[(o(),l(k,null,x(r,a=>e("button",{key:a.value,class:C(["filter-btn",{active:y.value===a.value}]),onClick:T=>y.value=a.value},c(a.label),11,le)),64))])])])]),e("div",re,[e("div",ie,[s[4]||(s[4]=e("div",{class:"stat-icon"},"ğŸš€",-1)),e("div",ce,[e("div",de,c(i.value.totalVersions),1),s[3]||(s[3]=e("div",{class:"stat-label"},"æ€»ç‰ˆæœ¬æ•°",-1))])]),e("div",ue,[s[6]||(s[6]=e("div",{class:"stat-icon"},"âœ¨",-1)),e("div",ge,[e("div",ve,c(i.value.totalFeatures),1),s[5]||(s[5]=e("div",{class:"stat-label"},"æ–°åŠŸèƒ½",-1))])]),e("div",he,[s[8]||(s[8]=e("div",{class:"stat-icon"},"ğŸ›",-1)),e("div",fe,[e("div",me,c(i.value.totalFixes),1),s[7]||(s[7]=e("div",{class:"stat-label"},"ä¿®å¤é—®é¢˜",-1))])]),e("div",ye,[s[10]||(s[10]=e("div",{class:"stat-icon"},"â¬†ï¸",-1)),e("div",be,[e("div",ke,c(i.value.totalImprovements),1),s[9]||(s[9]=e("div",{class:"stat-label"},"ä¼˜åŒ–æ”¹è¿›",-1))])])]),e("div",xe,[j(O,{name:"changelog-fade"},{default:F(()=>[(o(!0),l(k,null,x(u.value,a=>(o(),L(Y,{key:a.version,entry:a},null,8,["entry"]))),128))]),_:1}),u.value.length===0?(o(),l("div",pe,[s[11]||(s[11]=e("div",{class:"empty-icon"},"ğŸ“­",-1)),s[12]||(s[12]=e("p",{class:"empty-text"},"æš‚æ— è¯¥ç±»å‹çš„æ›´æ–°æ—¥å¿—",-1)),e("button",{class:"reset-filter-btn",onClick:s[0]||(s[0]=a=>y.value="all")}," é‡ç½®ç­›é€‰ ")])):b("",!0)]),e("div",_e,[e("div",$e,[s[13]||(s[13]=e("div",{class:"subscribe-icon"},"ğŸ””",-1)),s[14]||(s[14]=e("div",{class:"subscribe-content"},[e("h3",{class:"subscribe-title"},"è®¢é˜…æ›´æ–°é€šçŸ¥"),e("p",{class:"subscribe-desc"},"ç¬¬ä¸€æ—¶é—´è·å–ç³»ç»Ÿæ›´æ–°ä¿¡æ¯")],-1)),e("button",{class:"subscribe-btn",onClick:m},c(d.value?"å·²è®¢é˜…":"ç«‹å³è®¢é˜…"),1)])])])]))}},Te=V(Se,[["__scopeId","data-v-33d52c1b"]]);export{Te as default};
