import{K as _e,I as De,p as R,r as M,L as Le,c as F,a as g,b as c,y as Pe,w as S,d as P,i as N,j as $,t as O,F as te,g as ae,e as $e,C as Ce,u as q,l as Me,a1 as xe,G as Ue}from"./index-DyArWEBF.js";import{D as We}from"./dailyTaskRunner-Cy_wOgXQ.js";import{_ as Ie}from"./plugin-vue_export-helper-DlAUqK2U.js";import{S as Be}from"./Settings-Bj_xMO9E.js";const Ae={class:"batch-daily-tasks"},Ee={class:"page-header"},Ne={class:"actions"},ze={class:"token-row"},Re={class:"token-item"},Fe={class:"settings-content"},Oe={class:"settings-grid"},He={class:"setting-item"},je={class:"setting-item"},qe={class:"setting-item"},Ve={class:"setting-switches"},Ge={class:"switch-row"},Je={class:"switch-row"},Xe={class:"switch-row"},Ke={class:"switch-row"},Qe={class:"switch-row"},Ye={class:"switch-row"},Ze={class:"switch-row"},et={class:"modal-actions",style:{"margin-top":"20px","text-align":"right"}},tt={key:0,class:"execution-area"},at={class:"time"},st={class:"message"},nt=4*60*60*1e3,it={__name:"BatchDailyTasks",setup(lt){const r=_e(),U=De(),se=new We(r),D=R(()=>r.gameTokens),J=R(()=>{const e=new Date().getDay();return e>=1&&e<=3}),o=M([]),m=M({}),w=M(!1),y=M(!1),H=M(!1),V=M(null),G=M(""),h=Le({arenaFormation:1,bossFormation:1,bossTimes:2,claimBottle:!0,payRecruit:!0,openBox:!0,arenaEnable:!0,claimHangUp:!0,claimEmail:!0,blackMarketPurchase:!0}),X=[1,2,3,4].map(e=>({label:`阵容${e}`,value:e})),ne=[0,1,2,3,4].map(e=>({label:`${e}次`,value:e})),ie=e=>{try{const t=localStorage.getItem(`daily-settings:${e}`),a={arenaFormation:1,bossFormation:1,bossTimes:2,claimBottle:!0,payRecruit:!0,openBox:!0,arenaEnable:!0,claimHangUp:!0,claimEmail:!0,blackMarketPurchase:!0};return t?{...a,...JSON.parse(t)}:a}catch(t){return console.error("Failed to load settings:",t),null}},le=e=>{V.value=e.id,G.value=e.name;const t=ie(e.id);Object.assign(h,t),H.value=!0},oe=()=>{V.value&&(localStorage.setItem(`daily-settings:${V.value}`,JSON.stringify(h)),U.success(`已保存 ${G.value} 的设置`),H.value=!1)},k=M(null),_=M(0),C=M([]),j=M(null),K=R(()=>{const e=D.value.find(t=>t.id===k.value);return e?e.name:""}),re=R(()=>o.value.length===D.value.length&&D.value.length>0),ue=R(()=>o.value.length>0&&o.value.length<D.value.length),me=e=>{e?o.value=D.value.map(t=>t.id):o.value=[]},ce=e=>{const t=m.value[e];return t==="completed"?"success":t==="failed"?"error":t==="running"?"info":"default"},de=e=>{const t=m.value[e];return t==="completed"?"已完成":t==="failed"?"失败":t==="running"?"执行中":"等待中"},s=e=>{C.value.push(e),Ue(()=>{j.value&&(j.value.scrollTop=j.value.scrollHeight)})},Q=async(e,t=1e4)=>{const a=Date.now();for(;Date.now()-a<t;){if(r.getWebSocketStatus(e)==="connected")return!0;await new Promise(d=>setTimeout(d,500))}return!1},ge=async()=>{if(o.value.length!==0){w.value=!0,y.value=!1,C.value=[],o.value.forEach(e=>{m.value[e]="waiting"});for(const e of o.value){if(y.value)break;k.value=e,m.value[e]="running",_.value=0;const t=D.value.find(a=>a.id===e);try{s({time:new Date().toLocaleTimeString(),message:`=== 开始重置罐子: ${t.name} ===`,type:"info"}),await I(e),s({time:new Date().toLocaleTimeString(),message:"停止计时...",type:"info"}),await r.sendMessageWithPromise(e,"bottlehelper_stop",{},5e3),await new Promise(a=>setTimeout(a,500)),s({time:new Date().toLocaleTimeString(),message:"开始计时...",type:"info"}),await r.sendMessageWithPromise(e,"bottlehelper_start",{},5e3),m.value[e]="completed",s({time:new Date().toLocaleTimeString(),message:`=== ${t.name} 重置完成 ===`,type:"success"})}catch(a){console.error(a),m.value[e]="failed",s({time:new Date().toLocaleTimeString(),message:`重置失败: ${a.message}`,type:"error"})}_.value=100,await new Promise(a=>setTimeout(a,500))}w.value=!1,k.value=null,U.success("批量重置罐子结束")}},ve=async()=>{if(o.value.length!==0){w.value=!0,y.value=!1,C.value=[],o.value.forEach(e=>{m.value[e]="waiting"});for(const e of o.value){if(y.value)break;k.value=e,m.value[e]="running",_.value=0;const t=D.value.find(a=>a.id===e);try{s({time:new Date().toLocaleTimeString(),message:`=== 开始领取挂机: ${t.name} ===`,type:"info"}),await I(e);for(let a=0;a<4;a++)s({time:new Date().toLocaleTimeString(),message:`挂机加钟 ${a+1}/4`,type:"info"}),await r.sendMessageWithPromise(e,"system_mysharecallback",{isSkipShareCard:!0,type:2},5e3),await new Promise(l=>setTimeout(l,500));s({time:new Date().toLocaleTimeString(),message:"领取挂机奖励",type:"info"}),await r.sendMessageWithPromise(e,"system_claimhangupreward",{},5e3),await new Promise(a=>setTimeout(a,500));for(let a=0;a<4;a++)s({time:new Date().toLocaleTimeString(),message:`挂机加钟 ${a+1}/4`,type:"info"}),await r.sendMessageWithPromise(e,"system_mysharecallback",{isSkipShareCard:!0,type:2},5e3),await new Promise(l=>setTimeout(l,500));m.value[e]="completed",s({time:new Date().toLocaleTimeString(),message:`=== ${t.name} 领取完成 ===`,type:"success"})}catch(a){console.error(a),m.value[e]="failed",s({time:new Date().toLocaleTimeString(),message:`领取失败: ${a.message}`,type:"error"})}_.value=100,await new Promise(a=>setTimeout(a,500))}w.value=!1,k.value=null,U.success("批量领取挂机结束")}},fe=async()=>{if(o.value.length!==0){w.value=!0,y.value=!1,C.value=[],o.value.forEach(e=>{m.value[e]="waiting"});for(const e of o.value){if(y.value)break;k.value=e,m.value[e]="running",_.value=0;const t=D.value.find(a=>a.id===e);try{s({time:new Date().toLocaleTimeString(),message:`=== 开始一键加钟: ${t.name} ===`,type:"info"}),await I(e);for(let a=0;a<4&&!y.value;a++)s({time:new Date().toLocaleTimeString(),message:`执行加钟 ${a+1}/4`,type:"info"}),await r.sendMessageWithPromise(e,"system_mysharecallback",{isSkipShareCard:!0,type:2},5e3),await new Promise(l=>setTimeout(l,500));m.value[e]="completed",s({time:new Date().toLocaleTimeString(),message:`=== ${t.name} 加钟完成 ===`,type:"success"})}catch(a){console.error(a),m.value[e]="failed",s({time:new Date().toLocaleTimeString(),message:`加钟失败: ${a.message||"未知错误"}`,type:"error"})}_.value=100,await new Promise(a=>setTimeout(a,500))}w.value=!1,k.value=null,U.success("批量加钟结束")}},I=async e=>{var d;const t=D.value.find(i=>i.id===e);let l=r.getWebSocketStatus(e)==="connected";if(!l&&(s({time:new Date().toLocaleTimeString(),message:"正在连接...",type:"info"}),r.createWebSocketConnection(e,t.token,t.wsUrl),l=await Q(e),!l)){s({time:new Date().toLocaleTimeString(),message:"连接超时，尝试重连...",type:"warning"}),r.closeWebSocketConnection(e),await new Promise(b=>setTimeout(b,2e3)),s({time:new Date().toLocaleTimeString(),message:"正在重连...",type:"info"});const i=D.value.find(b=>b.id===e);r.createWebSocketConnection(e,i.token,i.wsUrl),l=await Q(e)}if(!l)throw new Error("连接失败 (重试后仍超时)");try{await r.sendMessageWithPromise(e,"role_getroleinfo",{},5e3);const i=await r.sendMessageWithPromise(e,"fight_startlevel",{},5e3);(d=i==null?void 0:i.battleData)!=null&&d.version&&r.setBattleVersion(i.battleData.version)}catch(i){s({time:new Date().toLocaleTimeString(),message:`初始化数据失败: ${i.message}`,type:"warning"})}return!0},we=async()=>{var e,t,a,l,d,i,b,p,W;if(o.value.length!==0){w.value=!0,y.value=!1,C.value=[],o.value.forEach(f=>{m.value[f]="waiting"});for(const f of o.value){if(y.value)break;k.value=f,m.value[f]="running",_.value=0;const B=D.value.find(v=>v.id===f);try{s({time:new Date().toLocaleTimeString(),message:`=== 开始爬塔: ${B.name} ===`,type:"info"}),await I(f),await r.sendMessageWithPromise(f,"tower_getinfo",{},5e3).catch(()=>{});let v=await r.sendGetRoleInfo(f),u=((t=(e=v==null?void 0:v.role)==null?void 0:e.tower)==null?void 0:t.energy)||0;s({time:new Date().toLocaleTimeString(),message:`初始体力: ${u}`,type:"info"});let L=0;const z=100;let n=0;for(;u>0&&L<z&&!y.value;)try{await r.sendMessageWithPromise(f,"fight_starttower",{},5e3),L++,n=0,s({time:new Date().toLocaleTimeString(),message:`爬塔第 ${L} 次`,type:"info"}),await new Promise(E=>setTimeout(E,2e3)),r.sendMessage(f,"tower_getinfo"),v=await r.sendGetRoleInfo(f);const T=(a=r.gameData)==null?void 0:a.roleInfo;u=((d=(l=T==null?void 0:T.role)==null?void 0:l.tower)==null?void 0:d.energy)??((b=(i=v==null?void 0:v.role)==null?void 0:i.tower)==null?void 0:b.energy)??0}catch(T){if(T.message&&T.message.includes("200400")){s({time:new Date().toLocaleTimeString(),message:"爬塔次数已用完 (200400)",type:"info"});break}if(n++,s({time:new Date().toLocaleTimeString(),message:`战斗出错: ${T.message} (重试 ${n}/3)`,type:"warning"}),n>=3){s({time:new Date().toLocaleTimeString(),message:"连续失败次数过多，停止爬塔",type:"error"});break}await new Promise(E=>setTimeout(E,2e3));try{v=await r.sendGetRoleInfo(f),u=((W=(p=v==null?void 0:v.role)==null?void 0:p.tower)==null?void 0:W.energy)||0}catch{}}m.value[f]="completed",s({time:new Date().toLocaleTimeString(),message:`=== ${B.name} 爬塔结束，共 ${L} 次 ===`,type:"success"})}catch(v){console.error(v),m.value[f]="failed",s({time:new Date().toLocaleTimeString(),message:`爬塔失败: ${v.message}`,type:"error"})}_.value=100,await new Promise(v=>setTimeout(v,500))}w.value=!1,k.value=null,U.success("批量爬塔结束")}},pe=async()=>{if(o.value.length!==0){w.value=!0,y.value=!1,C.value=[],o.value.forEach(e=>{m.value[e]="waiting"}),s({time:new Date().toLocaleTimeString(),message:"正在加载题库...",type:"info"}),await xe();for(const e of o.value){if(y.value)break;k.value=e,m.value[e]="running",_.value=0;const t=D.value.find(a=>a.id===e);try{s({time:new Date().toLocaleTimeString(),message:`=== 开始答题: ${t.name} ===`,type:"info"}),await I(e),r.gameData.studyStatus={isAnswering:!1,questionCount:0,answeredCount:0,status:"",timestamp:null},await r.sendMessageWithPromise(e,"study_startgame",{},5e3);let a=90,l=!1,d="";for(;a>0&&!y.value;){const i=r.gameData.studyStatus;if(i.status!==d&&(d=i.status,i.status==="answering"?s({time:new Date().toLocaleTimeString(),message:"开始答题...",type:"info"}):i.status==="claiming_rewards"&&s({time:new Date().toLocaleTimeString(),message:"正在领取奖励...",type:"info"})),i.status==="answering"&&i.questionCount>0,i.status==="completed"){l=!0;break}await new Promise(b=>setTimeout(b,1e3)),a--}l?(m.value[e]="completed",s({time:new Date().toLocaleTimeString(),message:`=== ${t.name} 答题完成 ===`,type:"success"})):y.value?s({time:new Date().toLocaleTimeString(),message:"已停止",type:"warning"}):(m.value[e]="failed",s({time:new Date().toLocaleTimeString(),message:"答题超时或未开始",type:"error"}))}catch(a){console.error(a),m.value[e]="failed",s({time:new Date().toLocaleTimeString(),message:`答题失败: ${a.message}`,type:"error"})}_.value=100,await new Promise(a=>setTimeout(a,500))}w.value=!1,k.value=null,U.success("批量答题结束")}},Y=e=>{const t=e||{},a=t.body||t,l=a.roleCar||a.rolecar||{},d=l.carDataMap||l.cardatamap;if(d&&typeof d=="object")return Object.entries(d).map(([b,p],W)=>({key:W,id:b,...p||{}}));let i=a.cars||a.list||a.data||a.carList||a.vehicles||[];return!Array.isArray(i)&&typeof i=="object"&&i!==null&&(i=Object.values(i)),Array.isArray(a)&&i.length===0&&(i=a),(Array.isArray(i)?i:[]).map((b,p)=>({key:p,...b}))},A=e=>({1:"绿·普通",2:"蓝·稀有",3:"紫·史诗",4:"橙·传说",5:"红·神话",6:"金·传奇"})[e]||"未知",Z=e=>{const t=[{type:3,itemId:3201,value:10},{type:3,itemId:1001,value:10},{type:3,itemId:1022,value:2e3},{type:2,itemId:0,value:2e3},{type:3,itemId:1023,value:5},{type:3,itemId:1022,value:2500},{type:3,itemId:1001,value:12}];return Array.isArray(e)?t.some(a=>e.find(l=>l.type===a.type&&l.itemId===a.itemId&&Number(l.value||0)>=a.value)):!1},ye=e=>Array.isArray(e)?e.reduce((t,a)=>t+(a.type===3&&a.itemId===35002?Number(a.value||0):0),0):0,ee=(e,t)=>{const a=Number((e==null?void 0:e.color)||0),l=Array.isArray(e==null?void 0:e.rewards)?e.rewards:[],d=ye(l);return t>=6?a>=5||d>=4||Z(l):a>=4||d>=2||Z(l)},be=e=>{const t=Number((e==null?void 0:e.sendAt)||0);if(!t)return!1;const a=t<1e12?t*1e3:t;return Date.now()-a>=nt},Se=async()=>{var e,t,a,l,d,i,b;if(o.value.length!==0){w.value=!0,y.value=!1,C.value=[],o.value.forEach(p=>{m.value[p]="waiting"});for(const p of o.value){if(y.value)break;k.value=p,m.value[p]="running",_.value=0;const W=D.value.find(f=>f.id===p);try{s({time:new Date().toLocaleTimeString(),message:`=== 开始智能发车: ${W.name} ===`,type:"info"}),await I(p),s({time:new Date().toLocaleTimeString(),message:"获取车辆信息...",type:"info"});const f=await r.sendMessageWithPromise(p,"car_getrolecar",{},1e4);let B=Y((f==null?void 0:f.body)??f),v=0;try{const u=await r.sendMessageWithPromise(p,"role_getroleinfo",{},1e4),L=(a=(t=(e=u==null?void 0:u.role)==null?void 0:e.items)==null?void 0:t[35002])==null?void 0:a.quantity;v=Number(L||0),s({time:new Date().toLocaleTimeString(),message:`剩余车票: ${v}`,type:"info"})}catch{}for(const u of B){if(y.value)break;if(Number(u.sendAt||0)!==0)continue;if(ee(u,v)){s({time:new Date().toLocaleTimeString(),message:`车辆[${A(u.color)}]满足条件，直接发车`,type:"info"}),await r.sendMessageWithPromise(p,"car_send",{carId:String(u.id),helperId:0,text:"",isUpgrade:!1},1e4),await new Promise(n=>setTimeout(n,500));continue}let L=!1;const z=Number(u.refreshCount??0)===0;if(v>=6)L=!0;else if(z)L=!0;else{s({time:new Date().toLocaleTimeString(),message:`车辆[${A(u.color)}]不满足条件且无刷新次数，直接发车`,type:"warning"}),await r.sendMessageWithPromise(p,"car_send",{carId:String(u.id),helperId:0,text:"",isUpgrade:!1},1e4),await new Promise(n=>setTimeout(n,500));continue}for(;L&&!y.value;){s({time:new Date().toLocaleTimeString(),message:`车辆[${A(u.color)}]尝试刷新...`,type:"info"});const n=await r.sendMessageWithPromise(p,"car_refresh",{carId:String(u.id)},1e4),T=(n==null?void 0:n.car)||((l=n==null?void 0:n.body)==null?void 0:l.car)||n;T&&typeof T=="object"&&(T.color!=null&&(u.color=Number(T.color)),T.refreshCount!=null&&(u.refreshCount=Number(T.refreshCount)),T.rewards!=null&&(u.rewards=T.rewards));try{const x=await r.sendMessageWithPromise(p,"role_getroleinfo",{},5e3);v=Number(((b=(i=(d=x==null?void 0:x.role)==null?void 0:d.items)==null?void 0:i[35002])==null?void 0:b.quantity)||0)}catch{}if(ee(u,v)){s({time:new Date().toLocaleTimeString(),message:`刷新后车辆[${A(u.color)}]满足条件，发车`,type:"success"}),await r.sendMessageWithPromise(p,"car_send",{carId:String(u.id),helperId:0,text:"",isUpgrade:!1},1e4),await new Promise(x=>setTimeout(x,500));break}const E=Number(u.refreshCount??0)===0;if(v>=6)L=!0;else if(E)L=!0;else{s({time:new Date().toLocaleTimeString(),message:`刷新后车辆[${A(u.color)}]仍不满足条件且无刷新次数，发车`,type:"warning"}),await r.sendMessageWithPromise(p,"car_send",{carId:String(u.id),helperId:0,text:"",isUpgrade:!1},1e4),await new Promise(x=>setTimeout(x,500));break}await new Promise(x=>setTimeout(x,1e3))}}m.value[p]="completed",s({time:new Date().toLocaleTimeString(),message:`=== ${W.name} 智能发车完成 ===`,type:"success"})}catch(f){console.error(f),m.value[p]="failed",s({time:new Date().toLocaleTimeString(),message:`智能发车失败: ${f.message}`,type:"error"})}_.value=100,await new Promise(f=>setTimeout(f,500))}w.value=!1,k.value=null,U.success("批量智能发车结束")}},he=async()=>{if(o.value.length!==0){w.value=!0,y.value=!1,C.value=[],o.value.forEach(e=>{m.value[e]="waiting"});for(const e of o.value){if(y.value)break;k.value=e,m.value[e]="running",_.value=0;const t=D.value.find(a=>a.id===e);try{s({time:new Date().toLocaleTimeString(),message:`=== 开始一键收车: ${t.name} ===`,type:"info"}),await I(e),s({time:new Date().toLocaleTimeString(),message:"获取车辆信息...",type:"info"});const a=await r.sendMessageWithPromise(e,"car_getrolecar",{},1e4);let l=Y((a==null?void 0:a.body)??a),d=0;for(const i of l)if(be(i)){try{await r.sendMessageWithPromise(e,"car_claim",{carId:String(i.id)},1e4),d++,s({time:new Date().toLocaleTimeString(),message:`收车成功: ${A(i.color)}`,type:"success"})}catch(b){s({time:new Date().toLocaleTimeString(),message:`收车失败: ${b.message}`,type:"warning"})}await new Promise(b=>setTimeout(b,300))}d===0&&s({time:new Date().toLocaleTimeString(),message:"没有可收取的车辆",type:"info"}),m.value[e]="completed",s({time:new Date().toLocaleTimeString(),message:`=== ${t.name} 收车完成，共收取 ${d} 辆 ===`,type:"success"})}catch(a){console.error(a),m.value[e]="failed",s({time:new Date().toLocaleTimeString(),message:`收车失败: ${a.message}`,type:"error"})}_.value=100,await new Promise(a=>setTimeout(a,500))}w.value=!1,k.value=null,U.success("批量一键收车结束")}},Te=async()=>{if(o.value.length!==0){w.value=!0,y.value=!1,C.value=[],o.value.forEach(e=>{m.value[e]="waiting"});for(const e of o.value){if(y.value)break;k.value=e,m.value[e]="running",_.value=0;let t=0;const a=1;let l=!1;for(;t<=a&&!l;){const d=D.value.find(i=>i.id===e);try{s(t===0?{time:new Date().toLocaleTimeString(),message:`=== 开始执行: ${d.name} ===`,type:"info"}:{time:new Date().toLocaleTimeString(),message:`=== 尝试重试: ${d.name} (第${t}次) ===`,type:"info"}),await I(e),await se.run(e,{onLog:i=>s(i),onProgress:i=>{_.value=i}}),l=!0,m.value[e]="completed",s({time:new Date().toLocaleTimeString(),message:`=== ${d.name} 执行完成 ===`,type:"success"})}catch(i){console.error(i),t<a?(s({time:new Date().toLocaleTimeString(),message:`执行出错: ${i.message}，等待3秒后重试...`,type:"warning"}),await new Promise(b=>setTimeout(b,3e3)),t++):(m.value[e]="failed",s({time:new Date().toLocaleTimeString(),message:`执行失败: ${i.message}`,type:"error"}))}}await new Promise(d=>setTimeout(d,1e3))}w.value=!1,k.value=null,U.success("批量任务执行结束")}},ke=()=>{y.value=!0,s({time:new Date().toLocaleTimeString(),message:"正在停止...",type:"warning"})};return(e,t)=>{const a=P("n-button"),l=P("n-space"),d=P("n-checkbox"),i=P("n-tag"),b=P("n-icon"),p=P("n-grid-item"),W=P("n-grid"),f=P("n-checkbox-group"),B=P("n-card"),v=P("n-select"),u=P("n-switch"),L=P("n-modal"),z=P("n-progress");return N(),F("div",Ae,[g("div",Ee,[t[13]||(t[13]=g("h2",null,"批量日常任务",-1)),g("div",Ne,[c(a,{type:"primary",onClick:Te,disabled:w.value||o.value.length===0},{default:S(()=>[$(O(w.value?"执行中...":"开始执行"),1)]),_:1},8,["disabled"]),c(a,{onClick:ke,disabled:!w.value,type:"error",style:{"margin-left":"12px"}},{default:S(()=>[...t[12]||(t[12]=[$(" 停止 ",-1)])]),_:1},8,["disabled"])])]),c(B,{title:"账号列表",class:"token-list-card"},{default:S(()=>[c(l,{style:{"margin-bottom":"12px"}},{default:S(()=>[c(a,{size:"small",onClick:ve,disabled:w.value||o.value.length===0},{default:S(()=>[...t[14]||(t[14]=[$(" 领取挂机 ",-1)])]),_:1},8,["disabled"]),c(a,{size:"small",onClick:fe,disabled:w.value||o.value.length===0},{default:S(()=>[...t[15]||(t[15]=[$(" 一键加钟 ",-1)])]),_:1},8,["disabled"]),c(a,{size:"small",onClick:ge,disabled:w.value||o.value.length===0},{default:S(()=>[...t[16]||(t[16]=[$(" 重置罐子 ",-1)])]),_:1},8,["disabled"]),c(a,{size:"small",onClick:we,disabled:w.value||o.value.length===0},{default:S(()=>[...t[17]||(t[17]=[$(" 一键爬塔 ",-1)])]),_:1},8,["disabled"]),c(a,{size:"small",onClick:pe,disabled:w.value||o.value.length===0},{default:S(()=>[...t[18]||(t[18]=[$(" 一键答题 ",-1)])]),_:1},8,["disabled"]),c(a,{size:"small",onClick:Se,disabled:w.value||o.value.length===0||!J.value},{default:S(()=>[...t[19]||(t[19]=[$(" 智能发车 ",-1)])]),_:1},8,["disabled"]),c(a,{size:"small",onClick:he,disabled:w.value||o.value.length===0||!J.value},{default:S(()=>[...t[20]||(t[20]=[$(" 一键收车 ",-1)])]),_:1},8,["disabled"])]),_:1}),c(l,{vertical:""},{default:S(()=>[c(d,{checked:re.value,indeterminate:ue.value,"onUpdate:checked":me},{default:S(()=>[...t[21]||(t[21]=[$(" 全选 ",-1)])]),_:1},8,["checked","indeterminate"]),c(f,{value:o.value,"onUpdate:value":t[0]||(t[0]=n=>o.value=n)},{default:S(()=>[c(W,{"x-gap":12,"y-gap":8,cols:2},{default:S(()=>[(N(!0),F(te,null,ae(D.value,n=>(N(),$e(p,{key:n.id},{default:S(()=>[g("div",ze,[c(d,{value:n.id,label:n.name,style:{flex:"1"}},{default:S(()=>[g("div",Re,[g("span",null,O(n.name),1),c(i,{size:"small",type:ce(n.id),style:{"margin-left":"8px"}},{default:S(()=>[$(O(de(n.id)),1)]),_:2},1032,["type"])])]),_:2},1032,["value","label"]),c(a,{size:"tiny",circle:"",onClick:Ce(T=>le(n),["stop"])},{icon:S(()=>[c(b,null,{default:S(()=>[c(q(Be))]),_:1})]),_:1},8,["onClick"])])]),_:2},1024))),128))]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),c(L,{show:H.value,"onUpdate:show":t[11]||(t[11]=n=>H.value=n),preset:"card",title:`任务设置 - ${G.value}`,style:{width:"90%","max-width":"400px"}},{default:S(()=>[g("div",Fe,[g("div",Oe,[g("div",He,[t[22]||(t[22]=g("label",{class:"setting-label"},"竞技场阵容",-1)),c(v,{value:h.arenaFormation,"onUpdate:value":t[1]||(t[1]=n=>h.arenaFormation=n),options:q(X),size:"small"},null,8,["value","options"])]),g("div",je,[t[23]||(t[23]=g("label",{class:"setting-label"},"BOSS阵容",-1)),c(v,{value:h.bossFormation,"onUpdate:value":t[2]||(t[2]=n=>h.bossFormation=n),options:q(X),size:"small"},null,8,["value","options"])]),g("div",qe,[t[24]||(t[24]=g("label",{class:"setting-label"},"BOSS次数",-1)),c(v,{value:h.bossTimes,"onUpdate:value":t[3]||(t[3]=n=>h.bossTimes=n),options:q(ne),size:"small"},null,8,["value","options"])]),g("div",Ve,[g("div",Ge,[t[25]||(t[25]=g("span",{class:"switch-label"},"领罐子",-1)),c(u,{value:h.claimBottle,"onUpdate:value":t[4]||(t[4]=n=>h.claimBottle=n)},null,8,["value"])]),g("div",Je,[t[26]||(t[26]=g("span",{class:"switch-label"},"领挂机",-1)),c(u,{value:h.claimHangUp,"onUpdate:value":t[5]||(t[5]=n=>h.claimHangUp=n)},null,8,["value"])]),g("div",Xe,[t[27]||(t[27]=g("span",{class:"switch-label"},"竞技场",-1)),c(u,{value:h.arenaEnable,"onUpdate:value":t[6]||(t[6]=n=>h.arenaEnable=n)},null,8,["value"])]),g("div",Ke,[t[28]||(t[28]=g("span",{class:"switch-label"},"开宝箱",-1)),c(u,{value:h.openBox,"onUpdate:value":t[7]||(t[7]=n=>h.openBox=n)},null,8,["value"])]),g("div",Qe,[t[29]||(t[29]=g("span",{class:"switch-label"},"领取邮件奖励",-1)),c(u,{value:h.claimEmail,"onUpdate:value":t[8]||(t[8]=n=>h.claimEmail=n)},null,8,["value"])]),g("div",Ye,[t[30]||(t[30]=g("span",{class:"switch-label"},"黑市购买物品",-1)),c(u,{value:h.blackMarketPurchase,"onUpdate:value":t[9]||(t[9]=n=>h.blackMarketPurchase=n)},null,8,["value"])]),g("div",Ze,[t[31]||(t[31]=g("span",{class:"switch-label"},"付费招募",-1)),c(u,{value:h.payRecruit,"onUpdate:value":t[10]||(t[10]=n=>h.payRecruit=n)},null,8,["value"])])])]),g("div",et,[c(a,{type:"primary",onClick:oe},{default:S(()=>[...t[32]||(t[32]=[$("保存设置",-1)])]),_:1})])])]),_:1},8,["show","title"]),k.value||C.value.length>0?(N(),F("div",tt,[c(B,{title:K.value?`正在执行: ${K.value}`:"执行日志",style:{"margin-top":"16px"}},{default:S(()=>[c(z,{type:"line",percentage:_.value,"indicator-placement":"inside",processing:""},null,8,["percentage"]),g("div",{class:"log-container",ref_key:"logContainer",ref:j},[(N(!0),F(te,null,ae(C.value,(n,T)=>(N(),F("div",{key:T,class:Me(["log-item",n.type])},[g("span",at,"["+O(n.time)+"]",1),g("span",st,O(n.message),1)],2))),128))],512)]),_:1},8,["title"])])):Pe("",!0)])}}},ct=Ie(it,[["__scopeId","data-v-f4d9d83d"]]);export{ct as default};
